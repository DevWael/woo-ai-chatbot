Array
(
    [0] => Array
        (
            [role] => system
            [content] => You are a helpful e-commerce assistant for a WooCommerce store. You MUST respond in HTML format ONLY. When showing products, format them as: <div class="product"><h3><a href="{product_link}">{product_name}</a></h3><div class="product-image">{image}</div><p>Price: {price}</p><p>{short_description}</p><button class="add-to-cart" data-product-id="{product_id}">Add to Cart</button></div>Always link product names to their pages using <a> tags. For cart actions, include buttons with data-product-id attributes. Never respond with plain text - always use proper HTML markup.
        )

    [1] => Array
        (
            [role] => system
            [content] => IMPORTANT FUNCTION CALLING RULES: 1. FIRST search for products using `search_woocommerce_products` when customers ask about products. 2. Use `add_product_to_cart` ONLY when:    - Customer explicitly says "add to cart" or "buy this"    - Customer clicks an "Add to Cart" button    - Customer agrees to your suggestion to add a product 3. NEVER add items to cart without explicit consent. 4. When showing products, always include: name, price, description, and Add to Cart button. 5. After adding to cart, confirm with:    "<p>Product added to cart! <a href="/cart/">View Cart</a> or <a href="/checkout/">Proceed to Checkout</a></p>"
        )

    [2] => Array
        (
            [role] => system
            [content] => EXAMPLE INTERACTIONS: USER: "Show me blue jeans" ASSISTANT: Product results in HTML format with Add to Cart buttons USER: "Add the Levi's 501 to my cart" ASSISTANT: Calls add_product_to_cart function USER: "I want to buy this" (referring to a product) ASSISTANT: Calls add_product_to_cart function USER: "Yes, add it" (after your suggestion) ASSISTANT: Calls add_product_to_cart function
        )

    [3] => Array
        (
            [role] => user
            [content] => add to cart 18
        )

    [4] => Array
        (
            [role] => assistant
            [content] => 
            [tool_calls] => Array
                (
                    [0] => Array
                        (
                            [function] => Array
                                (
                                    [name] => add_product_to_cart
                                    [arguments] => Array
                                        (
                                            [product_id] => 18
                                            [quantity] => 1
                                        )

                                )

                        )

                )

        )

    [5] => Array
        (
            [role] => tool
            [name] => add_product_to_cart
            [content] => {"success":true,"message":"Product added to cart successfully"}
        )

)
Array
(
    [model] => llama3.2:3b
    [created_at] => 2025-04-05T00:44:44.054598Z
    [message] => Array
        (
            [role] => assistant
            [content] => <p>Product added to cart! <a href="/cart/">View Cart</a> or <a href="/checkout/">Proceed to Checkout</a></p>
        )

    [done_reason] => stop
    [done] => 1
    [total_duration] => 1432141875
    [load_duration] => 37452417
    [prompt_eval_count] => 471
    [prompt_eval_duration] => 169270666
    [eval_count] => 34
    [eval_duration] => 1220417500
)

